\usepackage{booktabs}
\usepackage{xspace}
\usepackage{xparse}
\usepackage{xcolor}
\usepackage{listings}
\usepackage{tabularx}
\usepackage{titlesec}
\usepackage{url}
\usepackage{caption}

% parab
\newcommand{\paraspace}{\vspace{0.03in}}
\newcommand{\parab}[1]{\paraspace\noindent{\bf #1} }

% icompact
\newenvironment{icompact}{
  \begin{list}{$\bullet$}{
    \parsep 1pt plus 1pt
    \partopsep 1pt plus 1pt
    \topsep 1pt plus 2pt minus 1pt
    \itemsep 1.5pt plus 1pt
    \parskip 0pt plus 2pt
    \leftmargin 0.15in}
       }
  {\normalsize\end{list}}

% listing style
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\lstset{frame=tb,
  language=C,
  aboveskip=1mm,
  belowskip=1mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\scriptsize\ttfamily},
  numbers=none,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3
}

% tabularx column type
\newcolumntype{b}{>{\hsize=.85\hsize}X}
\newcolumntype{q}{>{\hsize=.6\hsize}X}
\newcolumntype{m}{>{\hsize=.5\hsize}X}
\newcolumntype{d}{>{\hsize=.45\hsize}X}
\newcolumntype{w}{>{\hsize=.3\hsize}X}
\newcolumntype{s}{>{\hsize=.25\hsize}X}
\newcolumntype{g}{>{\hsize=.17\hsize}X}
\newcolumntype{x}{>{\hsize=.15\hsize}X}

% auto highlight
\newcommand{\highlight}[1]{%
\if\submission0%
{\color{red}#1}%
\else
#1
\fi
}

\newcommand{\appendixrelated}[1]{%
\if\allowappendix1%
#1
\else
\fi
}

% \eg, \etc, \ie
\makeatletter
\DeclareRobustCommand\onedot{\futurelet\@let@token\@onedot}
\def\@onedot{\ifx\@let@token.\else.\null\fi\xspace}
\def\eg{\emph{e.g}\onedot}
\def\ie{\emph{i.e}\onedot}
\def\etc{\emph{etc}\onedot}
\def\etal{\emph{et al\onedot}}
\makeatother

% appendix figure
\makeatletter
\DeclareDocumentEnvironment{appendixfig}{}{
   \par\medskip\noindent
   \begin{minipage}{\linewidth}
   \def\@captype{figure}
   \centering
}
{
\end{minipage}
\par\bigskip
}
\makeatother

% appendix table
\makeatletter
\DeclareDocumentEnvironment{appendixtab}{}{
   \par\medskip\noindent
   \begin{minipage}{\linewidth}
   \def\@captype{table}
   \centering
}
{
\end{minipage}
\par\bigskip
}
\makeatother

% Calculate page difference
\newcommand{\pagedifference}[2]{%
  \number\numexpr\getpagerefnumber{#2}-\getpagerefnumber{#1} + 1\relax}

% Change caption vspace
\captionsetup[table]{aboveskip=2pt plus 2pt minus 2pt}
\captionsetup[table]{belowskip=-21pt plus 0pt minus 0pt}

\captionsetup[table*]{aboveskip=2pt plus 2pt minus 2pt}
\captionsetup[table*]{belowskip=-18pt plus 0pt minus 0pt}

\captionsetup[figure]{aboveskip=2pt plus 2pt minus 2pt}
\captionsetup[figure]{belowskip=-20pt plus 0pt minus 0pt}

\captionsetup[figure*]{aboveskip=2pt plus 2pt minus 2pt}
\captionsetup[figure*]{belowskip=-16pt plus 0pt minus 0pt}

\captionsetup[subfigure]{aboveskip=0pt plus 2pt minus 2pt}
\captionsetup[subfigure]{belowskip=0pt plus 0pt minus 0pt}

\captionsetup[lstlisting]{aboveskip=2pt plus 2pt minus 2pt}
\captionsetup[lstlisting]{belowskip=0pt plus 0pt minus 0pt}

% Change section subsection vspace
\titlespacing*{\section}
{0pt}{3pt plus 0pt minus 1pt}{2pt plus 0pt minus 1pt}

\titlespacing*{\subsection}
{0pt}{2pt plus 0pt minus 1pt}{2pt plus 0pt minus 1pt}

\titlespacing*{\subsubsection}
{0pt}{2pt plus 0pt minus 1pt}{1pt plus 0pt minus 0pt}

% Citation ref
\newcommand*{\figref}[2][]{%
  \hyperref[{#2}]{%
    Figure~\ref*{#2}%
    \ifx\\#1\\%
    \else
      \,#1%
    \fi
  }%
}
  
\newcommand*{\tabref}[2][]{%
  \hyperref[{#2}]{%
    Table~\ref*{#2}%
    \ifx\\#1\\%
    \else
      \,#1%
    \fi
  }%
}
  
\newcommand*{\equref}[2][]{%
  \hyperref[{#2}]{%
    Equation~\ref*{#2}%
    \ifx\\#1\\%
    \else
      \,#1%
    \fi
  }%
}

\newcommand*{\secref}[2][]{%
  \hyperref[{#2}]{%
    \S\ref*{#2}%
    \ifx\\#1\\%
    \else
      \,#1%
    \fi
  }%
}

\newcommand*{\algref}[2][]{%
  \hyperref[{#2}]{%
    Algorithm~\ref*{#2}%
    \ifx\\#1\\%
    \else
      \,#1%
    \fi
  }%
}

\newcommand*{\appref}[2][]{%
  \hyperref[{#2}]{%
    Appendix~\ref*{#2}%
    \ifx\\#1\\%
    \else
      \,#1%
    \fi
  }%
}

\newcommand*{\lstref}[2][]{%
  \hyperref[{#2}]{%
    Listing~\ref*{#2}%
    \ifx\\#1\\%
    \else
      \,#1%
    \fi
  }%
}

% URL Break
\def\UrlBigBreaks{\do\/\do-\do:}

% Default Values
\def\submission{0}
